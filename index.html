<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ylia Callan | Author ‚Ä¢ Researcher ‚Ä¢ Musician</title>
    <meta name="description" content="Ylia Callan ‚Äî Australian author, researcher, and musician exploring physics, consciousness and cosmic storytelling.">

    <!-- Canonical -->
    <link rel="canonical" href="https://yliacallan.github.io/">

    <!-- Robots -->
    <meta name="robots" content="index, follow">

    <!-- Theme Color -->
    <meta name="theme-color" content="#000000">

    <!-- ===== OPEN GRAPH (Facebook, LinkedIn, WhatsApp, iMessage) ===== -->
    <meta property="og:title" content="Ylia Callan | Author ‚Ä¢ Researcher ‚Ä¢ Musician">
    <meta property="og:description" content="Explore the work of Ylia Callan ‚Äî author, researcher, musician and creator of physics based cosmic theories.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yliacallan.github.io/">
    <meta property="og:site_name" content="Ylia Callan">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <!-- IMPORTANT: Your OG image must be at least 1200√ó630 -->
    <meta property="og:image" content="https://yliacallan.github.io/books/assets/images/og-image-ylia-callan-books.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- ===== TWITTER CARD ===== -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ylia Callan | Author ‚Ä¢ Researcher ‚Ä¢ Musician">
    <meta name="twitter:description" content="Explore the written and musical works of Ylia Callan.">
    <meta name="twitter:image" content="https://yliacallan.github.io/books/assets/images/og-image-ylia-callan-books.jpg">

    <!-- Optional but recommended -->
    <meta name="twitter:creator" content="@guitaralize">

    <!-- ===== JSON-LD: PERSON ===== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Ylia Callan",
      "jobTitle": "Author, Researcher, Musician",
      "url": "https://yliacallan.github.io/",
      "image": "https://yliacallan.github.io/books/assets/images/ylia-callan-10-years-old.jpg",
      "description": "Australian musician, independent writer and researcher bridging physics, philosophy and consciousness.",
      "sameAs": [
        "https://play.google.com/store/books/author?id=Ylia+Callan",
        "https://books.apple.com/us/author/ylia-callan/id672856291",
        "https://www.youtube.com/@ylia",
        "https://www.instagram.com/yl12ia/",
        "https://www.tiktok.com/guitaralize/",
        "https://x.com/guitaralize/"
      ]
    }
    </script>

    <!-- ===== JSON-LD: LIST OF WORKS (if you populate it later) ===== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "itemListElement": []
    }
    </script>
  
    
    <!-- Critical CSS (inlined) -->
<style>
:root{
  --black:#000;--cyan:#00eaff;--cyan-glow:0 0 12px rgba(0,234,255,.5);--transition:all .35s cubic-bezier(.4,0,.2,1)
}
*,*::before,*::after{box-sizing:border-box}
body,h1,h2,h3,p,ul{margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen-Sans,Ubuntu,Cantarell,sans-serif;background:var(--black);color:#e0faff;line-height:1.65;overflow-x:hidden}
img{max-width:100%;display:block}
a{color:var(--cyan);text-decoration:none;transition:var(--transition)}
a:hover{opacity:.8}

/* Header */
header{position:sticky;top:0;background:rgba(0,0,0,.95);backdrop-filter:blur(12px);z-index:1000;border-bottom:1px solid rgba(0,234,255,.15)}
nav{max-width:1400px;margin:0 auto;padding:1rem;display:flex;justify-content:space-between;align-items:center}
.site-logo{font-size:24px;font-weight:900;color:#00e3ff;text-shadow:0 0 10px #00e3ff;cursor:pointer;transition:.2s}
.site-logo:hover{opacity:.8;transform:scale(1.02)}
.nav-links{display:flex;gap:2rem}
.nav-links a{font-weight:500;position:relative}
.nav-links a::after{content:'';position:absolute;bottom:-6px;left:0;width:0;height:2px;background:var(--cyan);transition:var(--transition)}
.nav-links a:hover::after{width:100%}
.hamburger{display:none;cursor:pointer;width:28px;height:20px;position:relative}
.hamburger span{display:block;height:3px;width:100%;background:var(--cyan);border-radius:2px;transition:var(--transition)}
.hamburger span:nth-child(2){margin:5px 0}

/* Hero */
.hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:2rem;background:radial-gradient(circle at center,rgba(0,234,255,.06),transparent 70%)}
.hero h1{font-size:clamp(3rem,8vw,6rem);margin-bottom:.5rem;animation:glow 4s ease-in-out infinite alternate}
.hero .subtitle{font-size:clamp(1.2rem,4vw,1.8rem);margin-bottom:2rem;opacity:.9}
.hero .bio{max-width:800px;margin:0 auto;font-size:1.1rem;opacity:.85}

/* Carousel ‚Äì Featured Books */
.carousel{padding:4rem 1rem;max-width:1400px;margin:0 auto}
.carousel h2{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:var(--cyan);text-shadow:var(--cyan-glow)}
.swiper{padding:2rem 0}
.swiper-slide{background:rgba(0,234,255,.03);border-radius:16px;overflow:hidden;transition:var(--transition);text-align:center}
.swiper-slide:hover{transform:translateY(-12px);box-shadow:var(--cyan-glow)}
.book-cover{width:100%;height:380px;object-fit:cover;border-bottom:3px solid var(--cyan)}
.book-title{padding:1.5rem;font-size:1.4rem;color:var(--cyan)}

/* iPhone Safari fix ‚Äì no more stretched/tall covers */
@media (max-width:414px) and (max-height:896px){
  .book-cover{height:auto !important;max-height:380px !important;object-fit:contain !important;aspect-ratio:2/3 !important}
  .swiper-slide{padding:1rem !important}
}

/* Gallery */
.gallery{padding:4rem 1rem;max-width:1400px;margin:0 auto}
.gallery h2{text-align:center;font-size:2.5rem;margin-bottom:3rem;color:var(--cyan);text-shadow:var(--cyan-glow)}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:2rem}

/* Book pages ‚Äì related cards & metadata (used on both) */
.related-card,.book-card{
  overflow:hidden;border-radius:16px;background:rgba(0,234,255,.03);transition:var(--transition);
  max-width:320px;margin:0 auto
}
.related-card:hover,.book-card:hover{transform:translateY(-8px);box-shadow:var(--cyan-glow)}
.related-card img,.book-card img,#bookGrid img{
  width:100% !important;height:auto !important;max-height:75vh !important;object-fit:contain !important;
  background:#000 !important;padding:14px 10px 10px !important;box-sizing:border-box !important;
  border-bottom:2px solid var(--cyan) !important;display:block !important
}
.metadata,.description,.themes{max-width:1000px;margin:4rem auto;padding:0 1rem}
.metadata{background:rgba(0,234,255,.03);border:1px solid rgba(0,234,255,.2);border-radius:16px;padding:2rem}
.metadata dl{display:grid;grid-template-columns:1fr 2fr;gap:1rem 1.5rem;align-items:start}
.metadata dt{color:var(--cyan);font-weight:600}
.metadata dd{margin:0}

/* Footer & Contact */
footer{padding:3rem 1rem;text-align:center;border-top:1px solid rgba(0,234,255,.15)}
.socials{padding:1rem;max-width:1400px;margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:1.5rem}
.socials h2{font-size:2.5rem;color:var(--cyan);text-shadow:var(--cyan-glow);order:-1}
.footer-socials{padding:0 1rem 2rem;text-align:center;font-size:1.1rem}
.social-row + .social-row { margin-top: 2rem; }
.social-row{display:flex;justify-content:center;gap:2rem;flex-wrap:wrap;margin:1rem 0;width:100%}
.social-row a{color:var(--cyan);font-weight:600;white-space:nowrap;transition:all .3s}
.social-row a:hover{opacity:.8;text-shadow:var(--cyan-glow);transform:translateY(-2px)}
@media(max-width:480px){.social-row{gap:1.5rem;font-size:1rem}}

/* Copy Link */
.copy-link-row{display:flex;justify-content:center;position:relative;margin:1rem 0}
#copyFeedback{position:absolute;left:50%;transform:translateX(-50%);bottom:-28px;color:var(--cyan);font-weight:600;opacity:0;transition:opacity .4s;pointer-events:none}
.copy-link{background:transparent;border:2px solid var(--cyan);color:var(--cyan);padding:.6rem 1.4rem;border-radius:50px;font-weight:600;cursor:pointer;transition:all .3s;font-size:.95rem}
.copy-link:hover{background:var(--cyan);color:#000;box-shadow:0 0 20px rgba(0,234,255,.5)}

/* Share & PWA buttons */
.share-button{background:#00e3ff;color:#000;padding:12px 20px;font-size:18px;font-weight:600;border:none;border-radius:10px;cursor:pointer;margin:20px auto 0;display:block;width:100%;max-width:280px;box-shadow:0 0 10px rgba(0,227,255,.6);transition:.2s}
.share-button:hover{background:#0ff;transform:translateY(-2px)}
.nav-app-btn,.footer-app-btn{background:none;border:none;padding:0;margin:0;color:#00eaff;font-weight:600;font-size:inherit;cursor:pointer;display:inline-block}
.nav-app-btn:hover,.footer-app-btn:hover{opacity:.8}

/* Banner image on book pages */
.book-cover-wrapper{display:flex;justify-content:center;align-items:center;width:100%;margin:1.5rem 0;padding:0 1rem}
.book-cover-large{width:100%;max-width:900px;height:auto;border-radius:16px;box-shadow:0 10px 30px rgba(0,234,255,.25);border:2px solid rgba(0,234,255,.3);transition:var(--transition)}
.book-cover-large:hover{transform:translateY(-4px);box-shadow:0 20px 50px rgba(0,234,255,.4);border-color:var(--cyan)}
@media(max-width:768px){.book-cover-wrapper{margin:1rem 0;padding:0 .5rem}.book-cover-large{border-radius:12px}}

/* Mobile menu */
@media(max-width:768px){
  .nav-links{position:fixed;top:70px;left:-100%;width:100%;height:calc(100vh-70px);background:rgba(0,0,0,.98);flex-direction:column;align-items:center;padding-top:4rem;transition:left .4s}
  .nav-links.active{left:0}
  .hamburger{display:block}
  .hamburger.active span:nth-child(1){transform:rotate(45deg) translate(5px,6px)}
  .hamburger.active span:nth-child(2){opacity:0}
  .hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(7px,-8px)}
}

/* Glow animation */
@keyframes glow{from{text-shadow:0 0 12px rgba(0,234,255,.5)}to{text-shadow:0 0 20px rgba(0,234,255,.8),0 0 30px rgba(0,234,255,.4)}}
h1,h2{animation:glow 4s ease-in-out infinite alternate}


/* Fix all book covers ‚Äì perfect ratio, no more Lighthouse warnings */
img[width="400"][alt*="by Ylia Callan"],
.book-cover, .related-card img, .book-card img {
  height: auto !important;
}



/* ============================================= */
/* FINAL TOUCH TARGET FIX ‚Äì 100% Lighthouse clean */
/* ============================================= */

.swiper-pagination-bullet {
  width: 44px !important;     /* actual element is now 44√ó44 */
  height: 44px !important;    /* Google requires minimum 44√ó44 */
  background: rgba(0,234,255,0.25) !important;
  border-radius: 50%;
  opacity: 1 !important;
  margin: 0 4px !important;   /* small gap because the element itself is huge now */
  transition: all 0.3s ease;
  display: inline-flex !important;   /* important! */
  align-items: center;
  justify-content: center;
}

/* Tiny visible dot inside the huge invisible one */
.swiper-pagination-bullet::before {
  content: "";
  width: 12px;
  height: 12px;
  background: #00eaff;
  border-radius: 50%;
  display: block;
}

.swiper-pagination-bullet-active::before {
  background: #00eaff;
  box-shadow: 0 0 16px #00eaff;
  transform: scale(1.4);
}

/* Auto-growing mobile menu ‚Äì no more fixed height issues */
@media(max-width:768px) {
    .nav-links {
        height: auto !important;
        min-height: calc(100vh - 70px);
        padding-top: .5rem;
        padding-bottom: 3rem;
    }
}

/* Day Night Mode */
:root {
  --black: #000000;
  --cyan: #00eaff;
  --cyan-glow: 0 0 12px rgba(0,234,255,0.5);
  --transition: all 0.35s cubic-bezier(0.4,0,0.2,1);
  --bg: #000000;  /* Default dark */
  --text: #e0faff;
  --card-bg: rgba(0,234,255,0.03);
}

[data-theme="light"] {
  --bg: #f8faff;
  --text: #000;
  --card-bg: rgba(0,234,255,0.08);
}

body {
  background: var(--bg);
  color: var(--text);
  transition: background 0.6s, color 0.6s;
}

.metadata, .viewer-container, .related-card {
  background: var(--card-bg);
  transition: all 0.6s;
}

.swiper-slide h3, .swiper-slide .book-title, .swiper-slide .slide-title {
    position: relative !important;
    z-index: 10 !important;
    margin-bottom: -40px !important;
    padding-bottom: 0 !important;
}
.swiper-pagination { bottom: 20px !important; }

    
    
    
    
    
    
    
    
</style>

    <!-- Swiper.js (lightweight) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    
    <!-- PWA Core ‚Äì ROOT ONLY ‚Äì FINAL VERSION -->

<link rel="manifest" href="/manifest.json?v=2">
<script src="/install-pwa.js?v=10" defer></script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js?v=10')
      .then(() => console.log('PWA: SW registered'))
      .catch(err => console.error('PWA: SW failed', err));
  }
</script>


</head>


<body>

    <header>
        <nav>
            <div class="site-logo" id="logoShare">Ylia Callan</div>
            <div class="nav-links" id="navLinks">
                <a href="https://yliacallan.github.io/">Home</a>
                <a href="#books">Books</a>
                <a href="#catalogue">Catalogue</a>
                <a href="#audiobooks">Audiobooks</a>
                <a href="#socials">Contact</a>
                <a href="https://music.youtube.com/channel/UCpA_L99T91Wgousjvq_jZDw" target="_blank" rel="noopener">Musicüéº</a>
                <button type="button" id="themeToggle" onclick="toggleTheme()" 
        style="background:none; border:none; color:var(--cyan); font-weight:600; cursor:pointer; padding:0.5rem;">
  Dark Modeüåô 
</button>
                <button type="button" 
        class="install-trigger nav-app-btn" 
        onclick="triggerInstall()">
  Appüì±
</button>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero" id="home">
            <div>
                <h1>‚ôæÔ∏èHome‚ôæÔ∏è</h1>
  <div class="book-cover-wrapper">
      <img 
  src="/books/assets/images/ylia-callan-book-banner-800w-min.png"
  alt="Ylia Callan's author website banner ‚Äì Infinity Spheres"
  class="book-cover-large"
  width="800"
  height="267"
  fetchpriority="high"
  loading="eager">
  </div>
                <p class="subtitle">Musician ‚Ä¢ Researcher ‚Ä¢ Author</p>
                <p class="bio">
                    Ylia Callan is an Australian musician, independent writer and researcher whose work bridges physics, philosophy and consciousness.<br><br>
                    As a writer and researcher, Callan explores how cosmic processes, light, structure, gravity and information shape life, culture and the evolution of intelligence. His books combine scientific curiosity with accessible, reflective narrative, offering readers a pathway to rethink the relationship between the universe and human awareness.
                </p>
            </div>
        </section>

        <section class="carousel" id="books">
            <h2>‚ôæÔ∏èBooks‚ôæÔ∏è</h2>
            <div class="swiper featured-swiper">
                <div class="swiper-wrapper" id="featuredSlides"></div>
                <div class="swiper-pagination"></div>
            </div>
        </section>
        
            <!-- SOCIAL SHARE BAR ‚Äì NOW PERFECT -->

    <button class="share-button">Share</button>

        <section class="gallery" id="catalogue">
            <h2>‚ôæÔ∏èCatalogue‚ôæÔ∏è</h2>
            <div class="grid" id="bookGrid"></div>
        </section>
        
        <section id="audiobooks" class="socials">
    <h2 style="text-align:center; margin:4rem 0 2rem;">Audiobooks</h2>
<div class="social-row" style="justify-content: center; gap: 2rem; margin: 1.5rem 0;">
  <a href="https://play.google.com/store/books/collection/cluster?gsr=ShmCARYKEgoOQVFBQUFFQ3FlRm80NE0QERAE:S:ANO1ljLItnQ" 
     class="btn" target="_blank" rel="noopener">
    Google Play
  </a>
  <a href="https://books.apple.com/gb/author/ylia-callan/id672856291?see-all=audio-books" 
     class="btn" target="_blank" rel="noopener">
    Apple Books
  </a>
</div>
</section>
        
        
    </main>
    
<footer>

  <!-- Banner Image ‚Äì centered below h2 -->
  <div class="book-cover-wrapper">     
      <img 
  src="/books/assets/images/ylia-callan-book-banner-800w-min.png"
  alt="Ylia Callan's author website banner ‚Äì Infinity Spheres"
  class="book-cover-large"
  width="800"
  height="267"
  fetchpriority="high"
  loading="eager">

  </div>
    
  <!-- Share button (if you want it here) -->
  <button class="share-button" style="display: block; margin: 2rem auto;">Share</button>

  <!-- Contact Section ‚Äì h2 perfectly centered -->
  <section class="socials" id="socials">
    <h2 style="text-align: center; margin: 3rem 0 2rem; width: 100%;">‚ôæÔ∏èContact‚ôæÔ∏è</h2>
  </section>

  <!-- Social Links ‚Äì centered below banner -->
  <div class="footer-socials">
    <!-- LINE 1 ‚Äì Main socials -->
    <div class="social-row">
      <a href="https://www.youtube.com/@ylia" target="_blank" rel="noopener">YouTube</a>
      <a href="https://www.linkedin.com/in/ylia-callan-8b889976/" target="_blank" rel="noopener">LinkedIn</a>
      <a href="https://www.instagram.com/yl12ia/" target="_blank" rel="noopener">Instagram</a>
      <a href="https://www.tiktok.com/guitaralize/" target="_blank" rel="noopener">TikTok</a>
      <a href="https://x.com/guitaralize/" target="_blank" rel="noopener">X (Twitter)</a>
    </div>

    <!-- LINE 2 ‚Äì Music + App + Install + Home -->
    <div class="social-row">
      <a href="https://music.youtube.com/channel/UCpA_L99T91Wgousjvq_jZDw" target="_blank" rel="noopener">Music üéº</a>
      <button type="button" class="install-trigger nav-app-btn" onclick="triggerInstall()">App üì±</button>
      <a href="https://yliacallan.github.io/">Home ‚ôæÔ∏è</a>
    </div>

    <!-- LINE 3 ‚Äì Book stores -->
    <div class="social-row">
      <a href="https://play.google.com/store/books/author?id=Ylia+Callan" target="_blank" rel="noopener">Google Play</a>
      <a href="https://books.apple.com/us/author/ylia-callan/id672856291" target="_blank" rel="noopener">Apple Books</a>
    </div>

    <!-- Copy Link Row ‚Äì centered -->
    <div class="social-row copy-link-row">
      <button id="copyLinkBtn" class="copy-link">Copy Link üîó</button>
      <span id="copyFeedback">Copied!</span>
    </div>

    <p>&copy; <span id="year">2025</span> Ylia Callan. All rights reserved.</p>
  </div>
</footer>

    <!-- Floating Install Button ‚Äî ADD ID BACK -->
<button id="installButton" class="install-trigger" onclick="triggerInstall()"
        style="display:none; position:fixed; bottom:20px; right:20px; background:#00eaff; color:#000; border:none; padding:14px 26px; border-radius:50px; font-weight:700; font-size:1rem; cursor:pointer; box-shadow:0 0 24px rgba(0,234,255,0.7); z-index:9998;">
  Install App
</button>


    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Main JS -->
    <script defer>
        // Year
        document.getElementById('year').textContent = new Date().getFullYear();

        // Mobile menu
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navLinks.classList.toggle('active');
        });

        // Books data (replace with real covers & links when ready)
        const books = [
            { title: "Whole Health", cover: "https://yliacallan.github.io/books/assets/covers/Whole-Health-A-Complete-Guide-to-Body-Mind-and-Longevity-by-Ylia-Callan-400x600.png", url: "https://yliacallan.github.io/books/Whole-Health-A-Complete-Guide-to-Body-Mind-and-Longevity.html" },
            { title: "The Breath of Reality", cover: "https://yliacallan.github.io/books/assets/covers/The-Breath-of-Reality-A-Scientific-and-Spiritual-Guide-to-Breathing-Meditation-and-Manifestation-Cover-400x600.jpg", url: "https://yliacallan.github.io/books/The-Breath-of-Reality-A-Scientific-and-Spiritual-Guide-to-Breathing-Meditation-and-Manifestation.html" },
            { title: "Light as Memory", cover: "https://via.placeholder.com/400x600/000000/00eaff?text=Light+as+Memory", url: "/books/light-as-memory/" },
            { title: "The Listening Sky", cover: "https://via.placeholder.com/400x600/000000/00eaff?text=The+Listening+Sky", url: "/books/the-listening-sky/" },
            { title: "Gravity's Echo", cover: "https://via.placeholder.com/400x600/000000/00eaff?text=Gravity's+Echo", url: "/books/gravitys-echo/" },
            { title: "Patterns in the Void", cover: "https://via.placeholder.com/400x600/000000/00eaff?text=Patterns+in+the+Void", url: "/books/patterns-in-the-void/" }
        ];

        // Randomize order on each load
        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        const shuffledBooks = shuffle([...books]);

        // Populate featured carousel (first 4)
        const featuredSlides = document.getElementById('featuredSlides');
        shuffledBooks.slice(0, 4).forEach(book => {
            featuredSlides.innerHTML += `
                <div class="swiper-slide">
                    <a href="${book.url}">
                        <img src="${book.cover}" alt="${book.title} by Ylia Callan" loading="lazy" width="400" height="600">
                        <div class="book-title">${book.title}</div>
                    </a>
                </div>
            `;
        });

        // Populate gallery (catalogue)
        const bookGrid = document.getElementById('bookGrid');
        shuffledBooks.forEach(book => {
            bookGrid.innerHTML += `
                <a href="${book.url}" class="book-card">
                    <img src="${book.cover}" alt="${book.title} by Ylia Callan" loading="lazy" width="400" height="600">
                    <h3>${book.title}</h3>
                </a>
            `;
        });

        // Initialize Swiper
        new Swiper('.featured-swiper', {
            loop: true,
            autoplay: { delay: 4000, disableOnInteraction: false },
            pagination: { el: '.swiper-pagination', clickable: true },
            grabCursor: true,
            breakpoints: {
                320: { slidesPerView: 1 },
                768: { slidesPerView: 2 },
                1024: { slidesPerView: 3 }
            }
        });


 // Share Buttons
async function doShare() {
    const shareData = {
        title: document.title,
        text: "Check out this site!",
        url: window.location.href
    };

    // Native Web Share API
    if (navigator.share) {
        try {
            await navigator.share(shareData);
            return; // Exit function if share succeeds
        } catch (err) {
            // Check specifically if the user cancelled the share (AbortError)
            if (err.name === 'AbortError') {
                console.log("Share cancelled by user:", err);
                return; // IMPORTANT: Exit the function if user cancelled
            } else {
                console.error("An error occurred during sharing:", err);
                // If it's another error (e.g. no network), fall through to clipboard fallback
            }
        }
    }

    // Fallback: copy link (only runs if navigator.share is not available OR an error other than AbortError occurred)
    try {
        await navigator.clipboard.writeText(window.location.href);
        alert("Link copied to clipboard!");
    } catch (e) {
        alert("Unable to copy link.");
    }
}

// Attach to ALL share buttons
document.querySelectorAll(".share-button").forEach(btn => {
    btn.addEventListener("click", doShare);
});

// Share website on logo click
document.getElementById("logoShare").addEventListener("click", async () => {
    const shareData = {
        title: document.title,
        text: "Check out these books by Ylia Callan",
        url: window.location.href
    };

    if (navigator.share) {
        try {
            await navigator.share(shareData);
        } catch (err) {
            console.log("Share cancelled:", err);
            // You should add the AbortError check here too for consistency if you don't want the logo click to fallback on cancel:
            if (err.name === 'AbortError') {
                return; 
            }
        }
    } else {
        // Fallback: copy link
        try {
            await navigator.clipboard.writeText(window.location.href);
            alert("Link copied to clipboard!");
        } catch (e) {
            alert("Unable to share or copy link.");
        }
    }
});

    
    </script>

    <!-- Non-critical CSS deferred -->
    <link rel="stylesheet" media="print" onload="this.media='all'" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"></noscript>


<!-- iOS Add to Home Screen Popup ‚Äî PERFECTLY MATCHES APPLE -->
<div id="iosPrompt" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.95); backdrop-filter:blur(12px); align-items:center; justify-content:center; z-index:9999; padding:20px; font-family:system-ui;">
  <div style="background:#000; border:2px solid #00eaff; border-radius:20px; padding:36px 28px; max-width:340px; text-align:center; color:#e0faff; box-shadow:0 0 40px rgba(0,234,255,0.5);">
    <h3 style="margin:0 0 20px; color:#00eaff; font-size:1.5rem; font-weight:700;">Add to Home Screen</h3>
    <p style="margin:0 0 32px; line-height:1.7; opacity:0.9; font-size:1.1rem;">
      Tap the Share button below<br>then select <strong>‚ÄúAdd to Home Screen‚Äù</strong>
    </p>

    <!-- Icons Container ‚Äî perfectly aligned -->
    <div style="display:flex; align-items:center; justify-content:center; gap:30px; margin:20px 0;">
      
      <!-- REAL Apple Share Icon (arrow perfectly positioned) -->
      <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#00eaff" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="11" width="18" height="10" rx="2" ry="2"/>
        <path d="M12 17V2"/>
        <path d="m8 6 4-4 4 4"/>
      </svg>

      <!-- Right Arrow (flow indicator) -->
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14M12 5l7 7-7 7"/>
      </svg>

      <!-- REAL Apple "Add to Home Screen" Icon -->
      <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#00eaff" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
        <line x1="12" y1="8" x2="12" y2="16"/>
        <line x1="8" y1="12" x2="16" y2="12"/>
      </svg>
    </div>

    <button onclick="hideIosPrompt()" style="margin-top:20px; background:#00eaff; color:#000; border:none; padding:14px 36px; border-radius:16px; font-weight:700; font-size:1.2rem; cursor:pointer; box-shadow:0 4px 15px rgba(0,234,255,0.4);">
      Got it
    </button>
  </div>
</div>
    
<!-- Floating Install Button -->
<button class="install-trigger" onclick="triggerInstall()"
        style="display:none; position:fixed; bottom:20px; right:20px; background:#00eaff; color:#000; border:none; padding:14px 26px; border-radius:50px; font-weight:700; font-size:1rem; cursor:pointer; box-shadow:0 0 24px rgba(0,234,255,0.7); z-index:9998;">
  Install App
</button>

    
<script>
// Perfect "Copy Link" ‚Äì works everywhere, no jump, no errors
document.getElementById('copyLinkBtn')?.addEventListener('click', async () => {
  const url = location.href;
  const feedback = document.getElementById('copyFeedback');

  try {
    await navigator.clipboard.writeText(url);
  } catch (err) {
    // Fallback for very old browsers (almost never needed today)
    const textarea = document.createElement('textarea');
    textarea.value = url;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
  }

  // Show feedback (text is already "Copied!" in HTML, just fade in/out)
  feedback.style.opacity = '1';
  setTimeout(() => feedback.style.opacity = '0', 2000);
});
</script>

    <script>
// EXACT FIX FOR YOUR HAMBURGER MENU ‚Äî CLOSES ON LINK CLICK
document.querySelectorAll('#navLinks a').forEach(link => {
  link.addEventListener('click', () => {
    // Toggle off the active classes (your exact structure)
    document.getElementById('hamburger').classList.remove('active');
    document.getElementById('navLinks').classList.remove('active');
    console.log('Menu closed!');  // Confirm in console
  });
});
        
</script>

<script>
// Auto Day/Night Mode + Manual Toggle ‚Äì Complete
const setTheme = (mode) => {
  if (mode === 'dark') {
    document.documentElement.setAttribute('data-theme', 'dark');
    document.getElementById('themeToggle').innerHTML = '‚òÄÔ∏è Light Mode';
  } else {
    document.documentElement.setAttribute('data-theme', 'light');
    document.getElementById('themeToggle').innerHTML = 'üåô Dark Mode';
  }
  localStorage.setItem('theme', mode);
};

const toggleTheme = () => {
  const current = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
  setTheme(current === 'dark' ? 'light' : 'dark');
};

const autoSetTheme = () => {
  const hour = new Date().getHours();
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const saved = localStorage.getItem('theme');
  if (saved) {
    setTheme(saved);
  } else if (prefersDark || (hour >= 18 || hour < 7)) {
    setTheme('dark');
  } else {
    setTheme('light');
  }
};

// Run on load
autoSetTheme();
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', autoSetTheme);
</script>



    
</body>
</html>
